(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{1138:function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("d3b7"),n("fb6a");var s=i(n("c7eb")),a=i(n("1da1")),r=i(n("ea82")),o={data:function(){return{title:"Hello",q:"",chooseList:["","","",""],styleList:["1","2","3","4"],percentList:["0%","0%","0%","0%"],peaList:["0","0","0","0"],test:"123",qres:"",ans:2,qid:0,is_click:0,is_pdis:0,total:0,block:0,url:"http://154.12.26.163:5000/",que_list:[],now_id:0,totol:0}},onPullDownRefresh:function(){var t=this;return(0,a.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,uni.request({url:t.url+"getr",success:function(e){t.qid=e.data[0]}});case 2:return t.is_click=0,t.is_pdis=0,t.chooseList=["","","",""],t.styleList=["1","2","3","4"],t.peaList=["0","0","0","0"],t.percentList=["0%","0%","0%","0%"],e.next=10,t.getq();case 10:uni.stopPullDownRefresh();case 11:case"end":return e.stop()}}),e)})))()},onLoad:function(t){var e=this;return(0,a.default)((0,s.default)().mark((function n(){return(0,s.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.qid=t.id,n.next=3,e.get_list();case 3:if(0!=e.totol){n.next=7;break}return e.now_id=-1,uni.showToast({title:"当前题库无题目",icon:"none",duration:2e3}),n.abrupt("return");case 7:return e.now_id=0,n.next=10,e.getq();case 10:console.log(e.que_list[e.now_id][0]);case 11:case"end":return n.stop()}}),n)})))()},methods:{getq:function(){var t=this;return(0,a.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.qid=t.que_list[t.now_id][0],e.next=3,new Promise((function(e,n){uni.request({url:t.url+"test?id="+t.qid,timeout:2e3,success:function(n){n=n.data[0],t.q=n[2],t.chooseList=n.slice(3,7),console.log(n.slice(3,7)),t.ans=n[7],e("suc")},fail:function(){uni.showToast({title:"服务器繁忙，请稍后再试。。。",icon:"none",duration:1e3}),e("reject")}})}));case 3:case"end":return e.stop()}}),e)})))()},getr:function(){var t=this;return(0,a.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){uni.request({url:t.url+"getr",timeout:2e3,success:function(n){t.qid=n.data[0],e("suc")},fail:function(){uni.showToast({title:"服务器繁忙，请稍后再试。。。",icon:"none",duration:1e3}),e("reject")}})}));case 2:return e.next=4,t.getq();case 4:case"end":return e.stop()}}),e)})))()},init:function(){var t=this;r.default.get(this.url+"test?id="+this.qid).then((function(e){console.log(e.data);var n=e.data[0];t.q=n[1],t.chooseList=n.slice(2,6),t.ans=n[6]})).catch((function(t){console.error("请求失败：",t)}))},charge:function(t){var e=this;return(0,a.default)((0,s.default)().mark((function n(){return(0,s.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!=e.is_click){n.next=2;break}return n.abrupt("return");case 2:return console.log(t),console.log(e.ans),t===e.ans?(console.log(t),e.$set(e.styleList,t,"right"),console.log("yes"),console.log(e.styleList)):(e.$set(e.styleList,t,"wrong"),e.$set(e.styleList,e.ans,"right")),n.next=7,new Promise((function(n,i){uni.request({url:e.url+"addc?id="+e.qid+"&c="+t,success:function(t){n("suc")}})}));case 7:return n.next=9,e.get_p();case 9:console.log(e.styleList[1]),e.is_click=1;case 11:case"end":return n.stop()}}),n)})))()},get_p:function(){var t=this;return(0,a.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){uni.request({url:t.url+"getp?id="+t.qid,success:function(n){t.peaList=n.data,e("suc")}})}));case 2:return e.next=4,new Promise((function(e,n){uni.request({url:t.url+"getp?id="+t.qid,success:function(n){console.log(n.data);var i=0;t.percentList=n.data;for(var s=0;s<4;s++)i+=n.data[s];if(0!=i){t.total=i,console.log(i);for(s=0;s<4;s++)0!=n.data[s]&&(t.percentList[s]=n.data[s]/i*100,t.percentList[s]=t.percentList[s].toFixed(0));for(s=0;s<4;s++)t.percentList[s]+="%";t.is_pdis=1,console.log(t.percentList),e("suc")}}})}));case 4:case"end":return e.stop()}}),e)})))()},add_c:function(t){var e=this;return(0,a.default)((0,s.default)().mark((function n(){return(0,s.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:r.default.get(e.url+NaN+e.qid+"&c="+t).then((function(t){console.log(t.data)})).catch((function(t){console.error("请求失败：",t)}));case 1:case"end":return n.stop()}}),n)})))()},que:function(){var t=this;return(0,a.default)((0,s.default)().mark((function e(){var n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.default.get(t.url+"getr");case 2:n=e.sent,t.qid=n.data[0],t.is_click=0,t.is_pdis=0,t.chooseList=["","","",""],t.styleList=["1","2","3","4"],t.peaList=["0","0","0","0"],t.percentList=["0%","0%","0%","0%"],t.init();case 11:case"end":return e.stop()}}),e)})))()},reset:function(){this.is_click=0,this.is_pdis=0,this.chooseList=["","","",""],this.styleList=["1","2","3","4"],this.peaList=["0","0","0","0"],this.percentList=["0%","0%","0%","0%"]},pre:function(){var t=this;return(0,a.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t.now_id){e.next=3;break}return uni.showToast({title:"已经是第一题",icon:"none",duration:500}),e.abrupt("return");case 3:t.now_id=t.now_id-1,t.reset(),t.getq();case 6:case"end":return e.stop()}}),e)})))()},next:function(){var t=this;return(0,a.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.now_id+1!=t.totol){e.next=3;break}return uni.showToast({title:"已经是最后一题",icon:"none",duration:500}),e.abrupt("return");case 3:t.now_id=t.now_id+1,t.reset(),t.getq();case 6:case"end":return e.stop()}}),e)})))()},get_ran:function(){r.default.get(this.url+"getr").then((function(t){return console.log(t.data),t.data[0]})).catch((function(t){console.error("请求失败：",t)}))},get_list:function(){var t=this;return(0,a.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){uni.request({url:t.url+"getque?list_id="+t.qid,timeout:2e3,success:function(n){t.que_list=n.data,t.totol=n.data.length,e("suc")},fail:function(){uni.showToast({title:"服务器繁忙，请稍后再试。。。",icon:"none",duration:1e3})}})}));case 2:case"end":return e.stop()}}),e)})))()}}};e.default=o},"1d61":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".content[data-v-39a74790]{display:flex;flex-direction:column;align-items:center;justify-content:center}.logo[data-v-39a74790]{height:%?200?%;width:%?200?%;margin-top:%?200?%;margin-left:auto;margin-right:auto;margin-bottom:%?50?%}.text-area[data-v-39a74790]{width:400px;display:flex}.title[data-v-39a74790]{font-size:%?36?%;color:#000;margin-bottom:30px}.btn uni-view[data-v-39a74790]{display:flex;line-height:56px}.btn uni-view uni-text[data-v-39a74790]{margin-left:20px}.btn uni-button[data-v-39a74790]{width:200px;margin-bottom:10px}.right[data-v-39a74790]{background-color:#adff2f;color:#000}.wrong[data-v-39a74790]{background-color:#dc143c;color:#000}.rights[data-v-39a74790]{background-color:#007aff;position:absolute;height:46px;width:10%;border-radius:5px;margin-left:-13px;z-index:1;opacity:.5;transition:.5s}uni-button[data-v-39a74790]{width:200px}",""]),t.exports=e},"658f":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticStyle:{"text-align":"center"}},[t._v("当前是第"+t._s(t.now_id+1)+"题，总共有"+t._s(t.totol)+"题")]),n("v-uni-view",{staticClass:"content"},[n("v-uni-image",{staticClass:"logo",attrs:{src:"/static/logo.png"}}),n("v-uni-text",{staticClass:"title"},[t._v(t._s(t.q))]),n("v-uni-view",{staticClass:"btn"},[n("v-uni-view",[n("v-uni-button",{class:t.styleList[0],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.charge(0)}}},[n("v-uni-view",{staticClass:"rights",style:{width:t.percentList[0]}}),t._v(t._s(t.chooseList[0]))],1),n("v-uni-text",{style:{opacity:t.is_pdis?1:0}},[t._v(t._s(t.peaList[0]+"人 "+t.percentList[0]))])],1),n("v-uni-view",[n("v-uni-button",{class:t.styleList[1],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.charge(1)}}},[n("v-uni-view",{staticClass:"rights",style:{width:t.percentList[1]}}),t._v(t._s(t.chooseList[1]))],1),n("v-uni-text",{style:{opacity:t.is_pdis?1:0}},[t._v(t._s(t.peaList[1]+"人 "+t.percentList[1]))])],1),n("v-uni-view",[n("v-uni-button",{class:t.styleList[2],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.charge(2)}}},[n("v-uni-view",{staticClass:"rights",style:{width:t.percentList[2]}}),t._v(t._s(t.chooseList[2]))],1),n("v-uni-text",{style:{opacity:t.is_pdis?1:0}},[t._v(t._s(t.peaList[2]+"人 "+t.percentList[2]))])],1),n("v-uni-view",[n("v-uni-button",{class:t.styleList[3],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.charge(3)}}},[n("v-uni-view",{staticClass:"rights",style:{width:t.percentList[3]}}),t._v(t._s(t.chooseList[3]))],1),n("v-uni-text",{style:{opacity:t.is_pdis?1:0}},[t._v(t._s(t.peaList[3]+"人 "+t.percentList[3]))])],1),n("v-uni-view",{style:{opacity:t.is_pdis?1:0}},[t._v("总共作答"+t._s(t.total)+"人,正确率为"+t._s(t.percentList[t.ans]))])],1)],1),n("v-uni-text",{staticStyle:{display:"inline-block"}},[n("v-uni-button",{staticStyle:{"margin-left":"0",width:"200px",display:"inline-block"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pre()}}},[t._v("上一题")]),n("v-uni-button",{staticStyle:{"margin-right":"0",width:"200px",display:"inline-block"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.next()}}},[t._v("下一题")])],1)],1)},s=[]},"762f":function(t,e,n){"use strict";n.r(e);var i=n("658f"),s=n("8ec2");for(var a in s)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return s[t]}))}(a);n("e879");var r=n("f0c5"),o=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,"39a74790",null,!1,i["a"],void 0);e["default"]=o.exports},"8c6d":function(t,e,n){var i=n("1d61");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=n("4f06").default;s("15dd1aaa",i,!0,{sourceMap:!1,shadowMode:!1})},"8ec2":function(t,e,n){"use strict";n.r(e);var i=n("1138"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=s.a},e879:function(t,e,n){"use strict";var i=n("8c6d"),s=n.n(i);s.a}}]);